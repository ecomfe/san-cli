<!doctype html><html><head><meta charset="utf-8"/><title>San CLI</title><link rel="icon" href="/san-cli/favicon.ico"><script>window['SAN_DOCIT'] = {};</script><base href="/san-cli/"><link href="/san-cli/static/css/chunk-vendors.css" rel="stylesheet"><link href="/san-cli/static/css/client-entry.css" rel="stylesheet"></head><body><div id="app"><div id="site"><header id="header"><a href="/san-cli/" class="navbar"><img src="/san-cli/logo.svg" alt="Home" class="logo"> <span>San CLI</span></a><ul><li><a target="_blank" href="https://baidu.github.io/san/">San</a></li><li><a target="_blank" href="https://ecomfe.github.io/santd/">Santd</a></li><li><a target="_blank" href="https://github.com/ecomfe/eslint-plugin-san">Github</a></li></ul></header><aside id="sidebar" class="sidebar"><ul class="tree"><li data-id="/"><a href="/san-cli/" onclick="return false;">介绍</a></li><li><span>基础命令</span><ul><li data-id="/create-project/"><a href="/san-cli/create-project/" onclick="return false;">初始化项目</a></li><li data-id="/serve/"><a href="/san-cli/serve/" onclick="return false;">开发打包</a></li><li data-id="/build/"><a href="/san-cli/build/" onclick="return false;">生产打包</a></li></ul></li><li><span>配置</span><ul><li data-id="/config/"><a href="/san-cli/config/" onclick="return false;">San CLI 配置文件</a></li><li data-id="/advanced/"><a href="/san-cli/advanced/" onclick="return false;">高级配置</a></li><li data-id="/presets/"><a href="/san-cli/presets/" onclick="return false;">Presets 预设</a></li><li data-id="/env/"><a href="/san-cli/env/" onclick="return false;">环境变量</a></li></ul></li><li><span>常见解决方案</span><ul><li data-id="/modern-mode/"><a href="/san-cli/modern-mode/" onclick="return false;">现在的浏览器打包模式</a></li><li data-id="/bundle-analyze/"><a href="/san-cli/bundle-analyze/" onclick="return false;">Bundle 分析</a></li><li data-id="/component/"><a href="/san-cli/component/" onclick="return false;">San Component 组件开发</a></li><li data-id="/smarty/"><a href="/san-cli/smarty/" onclick="return false;">Smarty 相关</a></li><li data-id="/deployment/"><a href="/san-cli/deployment/" onclick="return false;">部署</a></li><li data-id="/hulk-cli-migration/"><a href="/san-cli/hulk-cli-migration/" onclick="return false;">hulk-cli升级san-cli</a></li></ul></li><li><span>二次开发</span><ul><li data-id="/architecture/"><a href="/san-cli/architecture/" onclick="return false;">内部实现</a></li><li data-id="/create-scaffold/"><a href="/san-cli/create-scaffold/" onclick="return false;">如何创建一个脚手架项目</a></li><li data-id="/plugin/"><a href="/san-cli/plugin/" onclick="return false;">插件</a><ul><li data-id="/cmd-plugin/"><a href="/san-cli/cmd-plugin/" onclick="return false;">Command 插件</a></li><li data-id="/srv-plugin/"><a href="/san-cli/srv-plugin/" onclick="return false;">编写一个 Serivce 插件</a></li></ul></li></ul></li><li><span>CLI UI</span><ul><li data-id="/ui/start/"><a href="/san-cli/ui/start/" onclick="return false;">San CLI UI</a></li><li><span>功能简介</span><ul><li data-id="/ui/project-list/"><a href="/san-cli/ui/project-list/" onclick="return false;">项目管理</a></li><li data-id="/ui/dashboard/"><a href="/san-cli/ui/dashboard/" onclick="return false;">工具扩展</a></li><li data-id="/ui/plugin/"><a href="/san-cli/ui/plugin/" onclick="return false;">插件管理</a></li><li data-id="/ui/dependency/"><a href="/san-cli/ui/dependency/" onclick="return false;">依赖管理与插件管理</a></li><li data-id="/ui/configuration/"><a href="/san-cli/ui/configuration/" onclick="return false;">配置管理</a></li><li data-id="/ui/task/"><a href="/san-cli/ui/task/" onclick="return false;">任务管理</a></li></ul></li><li><span>插件开发</span><ul><li data-id="/ui/structure/"><a href="/san-cli/ui/structure/" onclick="return false;">San CLI UI 工作流程</a></li><li data-id="/ui/plugin-object/"><a href="/san-cli/ui/plugin-object/" onclick="return false;">插件对象</a></li><li data-id="/ui/add-addon/"><a href="/san-cli/ui/add-addon/" onclick="return false;">widget部件</a></li><li data-id="/ui/add-config/"><a href="/san-cli/ui/add-config/" onclick="return false;">添加项目配置</a></li><li data-id="/ui/cover-task/"><a href="/san-cli/ui/cover-task/" onclick="return false;">更改项目任务</a></li><li data-id="/ui/add-view/"><a href="/san-cli/ui/add-view/" onclick="return false;">添加自定义视图</a></li><li data-id="/ui/static/"><a href="/san-cli/ui/static/" onclick="return false;">公共静态文件</a></li></ul></li></ul></li></ul></aside><article id="content"><div id="router-view" class="router-view"><div class="content"><div class="markdown"><h1 id="presets-%E9%A2%84%E8%AE%BE"><a class="header-anchor" href="#presets-%E9%A2%84%E8%AE%BE">#</a> Presets 预设</h1><p>为了方便个人和团队使用，San CLI 支持<code>sanrc.json</code>的预设文件，该文件存储在<code>homedir/.san/sanrc.json</code>，这个文件因为存储在个人的 home 文件夹，所以不会被同步到项目中，适应场景是自己定制的 San CLI 配置。</p><p>团队或者项目中如果要统一 San CLI 的预设配置，可以修改项目的<code>package.json</code>的<code>san</code>字段，添加对应的配置项。</p><blockquote><p>更精确的表达是：sanrc.json 是 CLI 的配置文件，san.config.js 是项目的配置文件。</p></blockquote><h2 id="%E9%85%8D%E7%BD%AE%E9%A1%B9"><a class="header-anchor" href="#%E9%85%8D%E7%BD%AE%E9%A1%B9">#</a> 配置项</h2><p><code>sanrc.json</code>的文件配置项如下：</p><ul><li>commands：<strong>Array</strong>，添加的 <a href="/san-cli/cmd-plugin/">Command 插件</a>，数组内存储的是<code>String</code>类型，支持路径或者插件的 NPM 包名；</li><li>plugins：<strong>Array</strong>，添加的 <a href="/san-cli/srv-plugin/">Service 插件</a>，数组内存储的是<code>String</code>类型，支持路径或者插件的 NPM 包名；</li><li>useBuiltInPlugin：<strong>Boolean</strong>，表示初始化 Service 时，是否使用内置插件，默认是<code>true</code>；</li><li>templateAlias：<strong>Object</strong>，脚手架模板的 alias Map，例如下面的配置，在使用<code>san init project target_path</code>时，会去对应的<code>icode</code>地址拉取脚手架模板。</li></ul><pre class="language-json"><code class="language-json"><span class="token comment">// sanrc.json 举例</span>
<span class="token punctuation">{</span><span class="token property">&quot;templateAlias&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">&quot;project&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ssh://git@icode.baidu.com:8235/baidu/foo/bar&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>配置在<code>package.json</code>的<code>san</code>字段举例：</p><pre class="language-json"><code class="language-json"><span class="token comment">// 项目的 package.json</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;san-project&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// ..其他 package.json 配置</span>
    <span class="token comment">// san 字段</span>
    <span class="token property">&quot;san&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;san-command.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;san-plugin.js&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h2 id="san-cli-%E4%B8%AD%E4%BC%9A%E4%BF%AE%E6%94%B9sanrc.json%E7%9A%84%E5%91%BD%E4%BB%A4"><a class="header-anchor" href="#san-cli-%E4%B8%AD%E4%BC%9A%E4%BF%AE%E6%94%B9sanrc.json%E7%9A%84%E5%91%BD%E4%BB%A4">#</a> San CLI 中会修改<code>sanrc.json</code>的命令</h2><p>San CLI 中有一些命令可以修改<code>sanrc.json</code>的配置。</p><h3 id="san-command-add%2Fremove%2Flist"><a class="header-anchor" href="#san-command-add%2Fremove%2Flist">#</a> <code>san command add/remove/list</code></h3><p><code>san command</code>是添加和管理 CLI Command 插件的命令：</p><ul><li>add：添加</li><li>remove/rm：删除，</li><li>list/ls：列出 command 列表</li></ul><p><strong>用法举例：</strong></p><pre class="language-bash"><code class="language-bash">san <span class="token builtin class-name">command</span> <span class="token function">add</span> san-command.js
san <span class="token builtin class-name">command</span> <span class="token function">ls</span>
san <span class="token builtin class-name">command</span> <span class="token function">rm</span> san-command.js
san <span class="token builtin class-name">command</span> <span class="token function">add</span> san-command.js -g</code></pre><div class="warning"><ol><li><code>--global</code>,<code>-g</code>：默认写到项目的 package.json 的 san 字段，使用<code>-g</code>则写到 home 文件夹的<code>sanrc.json</code>文件。</li><li>command 实际是操作的<code>sanrc.json</code>或者 package.json <code>san</code> 的 commands 字段</li></ol></div><h3 id="san-plugin-add%2Fremove%2Flist"><a class="header-anchor" href="#san-plugin-add%2Fremove%2Flist">#</a> san plugin add/remove/list</h3><p><code>san plugin</code>是添加和管理 CLI plugin 插件的命令：</p><ul><li>add：添加</li><li>remove/rm：删除，</li><li>list/ls：列出 plugin 列表</li></ul><p><strong>用法举例：</strong></p><pre class="language-bash"><code class="language-bash">san plugin <span class="token function">add</span> san-plugin.js
san plugin <span class="token function">ls</span>
san plugin <span class="token function">rm</span> san-plugin.js
san plugin <span class="token function">add</span> san-plugin.js -g</code></pre><div class="warning"><ol><li><code>--global</code>,<code>-g</code>：默认写到项目的 package.json 的 san 字段，使用<code>-g</code>则写到 home 文件夹的<code>sanrc.json</code>文件。</li><li>plugin 实际是操作的<code>sanrc.json</code>或者 package.json <code>san</code> 的 plugins 字段</li></ol></div><h3 id="san-remote-add%2Fremove%2Flist"><a class="header-anchor" href="#san-remote-add%2Fremove%2Flist">#</a> san remote add/remove/list</h3><p>每次初始化项目的时候，都输出长长的脚手架地址，使用<code>san remote</code>可以给脚手架模板创建一个短别名：</p><ul><li>add：添加</li><li>remove/rm：删除，</li><li>list/ls：列出脚手架模板 alias</li></ul><p><strong>用法举例：</strong></p><pre class="language-bash"><code class="language-bash"><span class="token comment"># san remote add &lt;name&gt; &lt;url&gt;</span>
san remote <span class="token function">add</span> project ssh://git@icode.baidu.com:8235/baidu/foo/bar
san remote <span class="token function">ls</span>
san remote <span class="token function">rm</span> project</code></pre><div class="warning"><ol><li><code>remote</code>的命令不支持<code>--global</code>，操作的实际是<code>sanrc.json</code>的 <code>templateAlias</code> 字段。</li><li>不建议在<code>package.json</code>中添加<code>templateAlias</code>。</li></ol></div></div></div></div><aside class="toc"><ul class="tree"></ul></aside></article></div></div><script src="/san-cli/static/js/chunk-vendors.js"></script><script src="/san-cli/static/js/client-entry.js"></script></body></html>